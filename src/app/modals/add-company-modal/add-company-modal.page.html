<ion-content padding class='myModal'>
  <ion-grid>
    <ion-row>
      <ion-col text-center>
        Add new company
      </ion-col>
    </ion-row>
    
  </ion-grid>
  
  
  
  <ion-toolbar color="light" >
    <ion-segment color="dark" [(ngModel)]="companyTab">
      <ion-segment-button value="info" checked='true'>
        General info
      </ion-segment-button>
      <ion-segment-button value="location">
        Location
      </ion-segment-button>
      <ion-segment-button value="contact">
        Contact
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
  
  
  <form [formGroup]='company'>
    <div [ngSwitch]="companyTab">
      
      <!-- General info -->
      <div *ngSwitchCase="'info'" checked > 
        
        <ion-input  type='Text'  placeholder='Company Name' formControlName='name' value='teeeest'></ion-input>
        <ion-input  type='Text'  placeholder='Code' formControlName='code' value='dfassdf'></ion-input>
        <ion-input  type='Text'  placeholder='Website'formControlName='website' value='dfassdf'></ion-input>
        <ion-input  type='Text'  placeholder='Tax number' formControlName='taxNumber' value='dfassdf'></ion-input>
        
        
        
        <div >
          <ion-item >
        <ion-select [compareWith]="compareWith" placeholder="Categories" 
        multiple="true" formArrayName="categories">
          <ion-select-option *ngFor="let category of categoriesList|async;" value='{{category}}' name='name'>
         {{category.name}}
          </ion-select-option>
        </ion-select>
      </ion-item>
      </div>
        <!-- <div formArrayName="categories"><ion-input  type='Text'  placeholder='Category'  formControlName='name'></ion-input></div> -->
        
      </div>
      <!-- End general info -->
      
      <!-- <ion-list formArrayName="categories" *ngFor="let cat of company.get('categories').controls; let i=index">
          <ion-item *ngFor="let category of categoriesList |async"   >
            <ion-label  >{{category.name}}</ion-label>
            <ion-checkbox slot="end" [(ngModel)]="category.isChecked"  ></ion-checkbox>
          </ion-item>
        </ion-list> -->

     
      <!-- Location -->
      <div *ngSwitchCase="'location'" >
        
        <div formGroupName='address'>
          
          <div formGroupName='country'>
            <ion-input  type='Text'  placeholder='Country' formControlName='name' value='dfassdf'></ion-input>
          </div>
          
          <div formGroupName='region'>
            <ion-input  type='Text'  placeholder='Region' formControlName='name' value='dfassdf'></ion-input>
          </div>
          
          <div formGroupName='city'>
            <ion-input  type='Text'  placeholder='City' formControlName='name' value='dfassdf'></ion-input>
          </div>
          
          <div formGroupName='zip'>
            <ion-input  type='Text'  placeholder='Zip' formControlName='number' value='1234'></ion-input>
          </div>

          <ion-input  type='Text'  placeholder='Street' formControlName='street' value='dfassdf'></ion-input>
        </div>
      </div>
      <!--End Location -->
      
      <!-- Contact -->
      <div *ngSwitchCase="'contact'">
        <ion-input  type='Text'  placeholder='Telephone number'  formControlName='telephone'value='123456789'></ion-input>
        <ion-input  type='Text'  placeholder='Email'  formControlName='email' value='aaa@aaaatest.com'></ion-input>
      </div>
      <!-- End contact -->
      
      <!-- <div *ngSwitchCase="'note'">
        <br>
        <ion-label class="titles">Title: </ion-label>
        <ion-input type="text" class="title" placeholder=" title" required></ion-input>
        
        <ion-label class="titles">Note: </ion-label>
        <ion-textarea class="myTextArea" clearOnEdit="true" placeholder='Write a note'></ion-textarea>
        
      </div> -->
      
    </div>
    
    
    <ion-row>
      <ion-col text-center>
        <ion-button color="danger" (click)="closeModal()"> <ion-icon name="close-circle"> </ion-icon> </ion-button>
        <ion-button color="success" (click)='addCompany()' ><ion-icon name="save"></ion-icon> </ion-button>
        
      </ion-col>
    </ion-row>
    
  </form>
</ion-content>